
<html>
<head>
	<meta charset="UTF-8">
	<title>Canvas</title>
    <link rel="stylesheet" href="stylesSubmitVermin.css">
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <!--pulls client side socket.io script from this url-->
    <!--font families-->
    <link href="https://fonts.googleapis.com/css?family=Cinzel|Cormorant+Unicase" rel="stylesheet">    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>
    <div id="intro">
            <h1>Close your eyes, stare deep into your soul</h1>
            <p id="dotDotDot">
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
                . <br>
            </p>
            <h1>What do you see on the card?<br><br><br></h1>
    </div>
    
    
    <form id="verminForm" action="/vermin" method="POST"  >
        <!--Enquire: Add option where the user can upload their own image-->
        <h2>Vermin Name</h2><br>
        <tr>
            <td>
                <input type="text" name="verminName"><br>
            </td>
        </tr>
        <h2>Evolution I</h2>
        <canvas id="evo1Canvas" width="800" height="500">
        </canvas>
        <fieldset>
            <legend>Stats</legend>
            <table id="evo1Stats">
                <tr>
                    <td>
                        Lifes: 
                    </td>
                    <td>
                        <input type="number" name="lifes1" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Muscle: 
                    </td>
                    <td>
                        <input type="number" name="muscle1" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Blast: 
                    </td>
                    <td>
                        <input type="number" name="blast1" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Guard: 
                    </td>
                    <td>
                        <input type="number" name="guard1" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Fast: 
                    </td>
                    <td>
                        <input type="number" name="fast1" min="1" max="13">
                    </td>
                </tr>
            </table> 
        </fieldset>
        <canvas id='evo2Canvas' width="800" height="500">
                Sory, no browser for u.
        </canvas>
        <fieldset>
            <legend>Stats</legend>
            <table id="evo2Stats">
                <tr>
                    <td>
                        Lifes: 
                    </td>
                    <td>
                        <input type="number" name="lifes2" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Muscle: 
                    </td>
                    <td>
                        <input type="number" name="muscle2" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Blast: 
                    </td>
                    <td>
                        <input type="number" name="blast2" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Guard: 
                    </td>
                    <td>
                        <input type="number" name="guard2" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Fast: 
                    </td>
                    <td>
                        <input type="number" name="fast2" min="1" max="13">
                    </td>
                </tr>
            </table> 
        </fieldset>   
        <canvas id='evo3Canvas' width="800" height="500">
                Sory, no browser for u.
        </canvas>
        <fieldset>
            <legend>Stats</legend>
            <table id="evo3Stats">
                <tr>
                    <td>
                        Lifes: 
                    </td>
                    <td>
                        <input type="number" name="lifes3" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Muscle: 
                    </td>
                    <td>
                        <input type="number" name="muscle3" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Blast: 
                    </td>
                    <td>
                        <input type="number" name="blast3" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Guard: 
                    </td>
                    <td>
                        <input type="number" name="guard3" min="1" max="13">
                    </td>
                </tr>
                <tr>
                    <td>
                        Fast: 
                    </td>
                    <td>
                        <input type="number" name="fast3" min="1" max="13">
                    </td>
                </tr>
            </table> 
            <tr>
                <td>
                    <input id="submit" type="submit" value="Seal Your Vermin's Fate">
                </td>
                <td>
                    <input type="reset" value="Turn Back the Tides of Time and Begin Anew">
                </td>
            </tr>
        </fieldset> 
        <input type="hidden" name="stringCanvas1" id="stringCanvas1"/>
        <input type="hidden" name="stringCanvas2" id="stringCanvas2"/>
        <input type="hidden" name="stringCanvas3" id="stringCanvas3"/>  
    </form>



    <div id="mario-chat">
        <div id="chat-window">
            <div id="output"></div>
        </div>
        <input id="handle" type="text" placeholder="Handle"/>
        <input id="message" type="text" placeholder="Message"/>
        <button id="send">Send</button>
    </div>

    <!--External Javascript File References-->
    <script type="text/javascript" src="js/evo1Canvas.js"></script>
    <script type="text/javascript" src="js/evo2Canvas.js"></script>
    <script type="text/javascript" src="js/evo3Canvas.js"></script>
    <!-- <script type="text/javascript" src="../server/api/routes/verminRouter.js"></script> -->

    <!--JQuery-->
    <script>
        //makes sure that the whole document is read 
        // before loading script
        $("document").ready(function(){
          $("#intro").hide().fadeIn(2000); 
        });
        //Convert Canvases to PNG
        const verminForm = document.getElementById('verminForm');
        verminForm.onsubmit = function(event){ 
            console.log('function started');   
            const canvas1Element = document.getElementById('evo1Canvas');
            const canvas2Element = document.getElementById('evo2Canvas');
            const canvas3Element = document.getElementById('evo3Canvas');
            const canvas1String = canvas1Element.toDataURL(); 
            const canvas2String = canvas2Element.toDataURL();
            const canvas3String = canvas3Element.toDataURL();
            //mdn web docs
            const canvas1HiddenInput = document.getElementById('stringCanvas1');
            const canvas2HiddenInput = document.getElementById('stringCanvas2');
            const canvas3HiddenInput = document.getElementById('stringCanvas3');
            canvas1HiddenInput.value = canvas1String;
            canvas2HiddenInput.value = canvas2String;
            canvas3HiddenInput.value = canvas3String; 
            console.log(canvas1HiddenInput.value)
            //return true; 
            //event.preventDefault(); 
        }
    </script>
</body>
</html>